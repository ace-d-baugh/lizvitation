<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Lizvitation</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div class="invite">
			<div class="open-btn cloaked" id="close-btn" onclick="closeMap()">Mischief Managed!</div>
		</div>
		<div class="map">
			<div class="left-panel">
			</div>
			<div class="right-panel">
			</div>
			<div class="filter"></div>
			<div class="open-btn" id="open-btn" onclick="openMap()">Invitare Aperio!</div>
			<div class="wand"><img src="wand.png" alt="" /></div>
		</div>

		<script>
			function openMap() {
				// Create the image element
				const mapImageLeft = document.createElement('img');
				mapImageLeft.src = 'map.gif';
				mapImageLeft.className = 'map-left';
				mapImageLeft.alt = '';
				const mapImageRight = document.createElement('img');
				mapImageRight.src = 'map.gif';
				mapImageRight.className = 'map-right';
				mapImageRight.alt = '';
				
				setTimeout(function () {
					// Append it to left-panel
					const leftPanel = document.querySelector('.left-panel');
					leftPanel.appendChild(mapImageLeft);
					// Append it to right-panel
					const rightPanel = document.querySelector('.right-panel');
					rightPanel.appendChild(mapImageRight);
				}, 2500);
				

				document.querySelector('.left-panel').classList.add('open');
				document.querySelector('.right-panel').classList.add('open');
				document.querySelector('#open-btn').classList.add('cloaked');
				document.querySelector('#close-btn').classList.remove('cloaked');
				setTimeout(function () {
					document.querySelector('.map').classList.add('cloaked');
				}, 8000);
				document.querySelector('.wand').classList.add('spell');
			}

			function closeMap() {
				document.querySelector('.left-panel').classList.remove('open');
				document.querySelector('.right-panel').classList.remove('open');
				document.querySelector('#open-btn').classList.remove('cloaked');
				document.querySelector('#close-btn').classList.add('cloaked');
				document.querySelector('.map').classList.remove('cloaked');
				document.querySelector('.wand').classList.remove('spell');
				setTimeout(function () {
					document.querySelector('.map-left').classList.add('cloaked');
					document.querySelector('.map-right').classList.add('cloaked');
				}, 500);
				// Remove the images from the DOM
				setTimeout(function () {
					const leftPanel = document.querySelector('.left-panel');
					leftPanel.innerHTML = '';
					const rightPanel = document.querySelector('.right-panel');
					rightPanel.innerHTML = '';
				}, 5000);
			}
		</script>
	</body>
</html>
